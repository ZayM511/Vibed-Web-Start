<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test HVAC Technician - Test Company - Indeed.com</title>

  <!-- JSON-LD structured data (same as Indeed uses) -->
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "JobPosting",
    "title": "Test HVAC Technician",
    "datePosted": "2025-08-20T19:54:20.46Z",
    "description": "This is a test job posting to verify the scanner's posting age detection.",
    "hiringOrganization": {
      "@type": "Organization",
      "name": "Test Staffing Company"
    },
    "jobLocation": {
      "@type": "Place",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Test City",
        "addressRegion": "CA"
      }
    }
  }
  </script>

  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
    h1 { color: #2557a7; }
    .company { color: #666; font-size: 18px; }
    .location { color: #767676; margin: 10px 0; }
    .description { margin-top: 20px; line-height: 1.6; }
    .test-info { background: #fff3cd; border: 1px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 5px; }
  </style>
</head>
<body>
  <div class="test-info">
    <strong>TEST PAGE:</strong> This mimics an Indeed job page with JSON-LD data showing a job posted on August 20, 2025 (approximately 149 days ago).
    <br><br>
    <strong>To test:</strong>
    <ol>
      <li>Make sure this page URL contains "indeed.com" - you may need to add it to your hosts file or use a local server</li>
      <li>Open the JobFiltr extension popup</li>
      <li>Go to the Scanner tab</li>
      <li>Click "Scan Job"</li>
      <li>Check if Posting Age shows ~95% (not 0%)</li>
    </ol>
  </div>

  <h1 class="jobsearch-JobInfoHeader-title">
    <span>Test HVAC Technician</span>
  </h1>

  <div data-testid="inlineHeader-companyName">
    <a href="#">Test Staffing Company</a>
  </div>

  <div class="location" data-testid="inlineHeader-companyLocation">
    Test City, CA
  </div>

  <div id="jobDescriptionText" class="description">
    <h2>Full job description</h2>
    <p>This is a test job posting to verify that the JobFiltr scanner correctly detects the posting age from JSON-LD structured data.</p>
    <p>The job was posted on August 20, 2025, which should be approximately 149 days old.</p>
    <p>If the scanner is working correctly, it should show:</p>
    <ul>
      <li>Posting Age: ~95% (since the job is over 90 days old)</li>
      <li>A red flag mentioning "probable ghost/spam job"</li>
    </ul>
  </div>

  <script>
    // Log what the content script should extract
    console.log('=== TEST PAGE LOADED ===');
    console.log('JSON-LD datePosted: 2025-08-20T19:54:20.46Z');
    const daysOld = Math.floor((new Date() - new Date('2025-08-20T19:54:20.46Z')) / (1000 * 60 * 60 * 24));
    console.log('Days old:', daysOld);
    console.log('Expected posting age risk: 95% (job is ' + daysOld + ' days old, which is > 90 days)');
  </script>
</body>
</html>
